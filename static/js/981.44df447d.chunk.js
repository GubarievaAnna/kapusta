"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[981],{48734:function(e,t,n){n.d(t,{y:function(){return B}});var a=n(29439),s=n(72791),r=n(59434),i=n(9085),o=n(24805),c=n(57689),l=n(42295),d={modal:"BalanceModal_modal__C0hkc",part:"BalanceModal_part__Mp8tJ",text:"BalanceModal_text__nR0Ka",secondText:"BalanceModal_secondText__a3wM0"},u=n(80184),p=function(){return(0,u.jsxs)("div",{className:d.modalWindow,children:[(0,u.jsxs)("div",{className:d.modal,children:[(0,u.jsx)("p",{className:d.text,children:"Hello! To get started, enter the current balance of your account!"}),(0,u.jsx)("p",{className:d.secondText,children:"You can't spend money until you have it :)"})]}),(0,u.jsx)("div",{className:d.part})]})},_=n(33168),m=n(4187),h=n(87261),x="Balance_balance__41oSS",g="Balance_title__2Bv5K",f="Balance_info__eIFcS",j="Balance_label__9QrSJ",b="Balance_labelTab__30hOm",v="Balance_labelMobile__f4IoX",y="Balance_input__5zeug",N="Balance_money__1igFa",C="Balance_button__UsoOP",k="Balance_buttonNone__2BvoG",T="Balance_buttonActive__g5Mhi Balance_button__UsoOP",F=n(67473),w=n(23937),B=function(){var e=(0,r.v9)(F.s),t=(0,r.v9)(m.iP),n=(0,r.v9)(h.Jz),d=(0,r.v9)(h.yS),B=(0,r.I0)(),M=(0,_.$)().t,S=(0,c.TH)(),R=(0,s.useState)(0),P=(0,a.Z)(R,2),Z=P[0],H=P[1],O=(0,o.useMediaQuery)({query:"(max-width: 1280px)"}),$=(0,o.useMediaQuery)({query:"(max-width: 767.9px)"}),D=new Audio(w);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{className:x,onSubmit:function(e){if(e.preventDefault(),D.play(),""!==Z)return B((0,l.o)({newBalance:Z}));i.Am.error(M("balance.inputInfo"),{autoClose:2e3,theme:"colored"})},children:[(0,u.jsxs)("h3",{className:g,children:[M("balance.balanceTitle"),":"]}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsxs)("label",{className:"".concat(j," ").concat($&&"/reports"===S.pathname&&v," ").concat(O&&"/reports"===S.pathname&&b),children:[(0,u.jsx)("input",{type:"text",className:y,value:0!==e?e.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "):0===n.length&0===d.length?Z:0,decimalscale:1,maxLength:9,onChange:function(e){var t=e.target.value;H(t)},disabled:!(0===e&&0===n.length&0===d.length)}),(0,u.jsx)("p",{className:N,children:M("balance.currency")}),0===Z&&0===e&&t&&0===n.length&0===d.length?(0,u.jsx)(p,{}):!(0,u.jsx)(p,{})]}),(0,u.jsx)("button",{className:O&&"/reports"===S.pathname?k:0===e&&0===n.length&0===d.length?T:C,type:"submit",disabled:!(0===e&&0===n.length&0===d.length),children:M("balance.confirm")})]})]})})}},96981:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var a=n(29439),s=n(72426),r=n.n(s),i=n(72791),o=n(74569),c=n.n(o),l=JSON.parse('{"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b":{"title":"Products","id":"icon-products"},"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c":{"title":"Alcohol","id":"icon-alcohol"},"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f":{"title":"Entertainment","id":"icon-entertainment"},"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435":{"title":"Health","id":"icon-health"},"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":{"title":"Transport","id":"icon-transport"},"\u0412\u0441\u0451 \u0434\u043b\u044f \u0434\u043e\u043c\u0430":{"title":"Housing","id":"icon-housing"},"\u0422\u0435\u0445\u043d\u0438\u043a\u0430":{"title":"Technique","id":"icon-technique"},"\u041a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u043a\u0430 \u0438 \u0441\u0432\u044f\u0437\u044c":{"title":"Communal, communication","id":"icon-communal, communication"},"\u0421\u043f\u043e\u0440\u0442 \u0438 \u0445\u043e\u0431\u0431\u0438":{"title":"Sports, hobbies","id":"icon-sports, hobbies"},"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435":{"title":"Education","id":"icon-education"},"\u041f\u0440\u043e\u0447\u0435\u0435":{"title":"Other","id":"icon-other"}}'),d=n(57689),u=n(48734),p="Paginator_pagination__nrZd8",_="Paginator_prevBtn__FZhuJ",m="Paginator_nextBtn__uk3BU",h="Paginator_title__dN9GP",x=n(80184),g=function(e){var t=e.clickPrev,n=e.clickNext,a=e.descr,s=e.disableNext,r=void 0!==s&&s;return(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("button",{"aria-label":"Previous",className:_,onClick:t}),(0,x.jsx)("p",{className:h,children:a}),(0,x.jsx)("button",{"aria-label":"Next",className:m,disabled:r,onClick:n})]})},f="ReportsHeader_block__lHhNt",j="ReportsHeader_nav__ZTKox",b="ReportsHeader_btnPrevPage__wYiTl",v="ReportsHeader_mainPage__JvmnA",y="ReportsHeader_reportsSection__4gCF4",N="ReportsHeader_blockMonth__ihceL",C="ReportsHeader_currentPeriod__+OuEo",k=n(33168),T=function(e){var t=e.month,n=e.setMonth,a=e.setCategory,s=(0,d.s0)(),i=(0,k.$)().t,o=i("monthsPag",{returnObjects:!0})["".concat(r()().add(t,"month").format("MMMM"))],c=r()().add(t,"month").format("YYYY");return(0,x.jsxs)("div",{className:f,children:[(0,x.jsxs)("div",{className:j,children:[(0,x.jsx)("button",{className:b,onClick:function(e){return s(-1)}}),(0,x.jsx)("p",{className:v,children:i("nav.mainPage")})]}),(0,x.jsxs)("div",{className:y,children:[(0,x.jsx)(u.y,{}),(0,x.jsxs)("div",{className:N,children:[(0,x.jsx)("p",{className:C,children:i("reports.period")}),(0,x.jsx)(g,{clickPrev:function(){n((function(e){return e-1})),a("")},clickNext:function(){n((function(e){return e+1})),a("")},descr:"".concat(o," ").concat(c),disableNext:0===t})]})]})]})},F="ReportsTotal_block__W-2jt",w="ReportsTotal_list__Zq8Np",B="ReportsTotal_item__w+0vA",M="ReportsTotal_expenses__d0mGe",S="ReportsTotal_income__zOmyK",R="ReportsTotal_incomeTotal__l26TU",P="ReportsTotal_expensesTotal__M3Dsi",Z="ReportsTotal_itemPseudoElement__DF13T",H=function(e){var t=e.userExpenses,n=e.userIncome,a=(0,k.$)().t;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:F,children:(0,x.jsxs)("ul",{className:w,children:[(0,x.jsxs)("li",{className:B,children:[(0,x.jsx)("p",{className:M,children:a("reports.expenses")}),(0,x.jsxs)("p",{className:P,children:["-\xa0",t.expenseTotal.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),"\xa0 ",a("general.currencyName")]})]}),(0,x.jsxs)("li",{className:"".concat(B," ").concat(Z," "),children:[(0,x.jsx)("p",{className:S,children:a("reports.income")}),(0,x.jsxs)("p",{className:R,children:["+\xa0",n.incomeTotal.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),"\xa0 ",a("general.currencyName")]})]})]})})})},O=n(53401),$="CategoriesList_list__IObOo",D="CategoriesList_noInfo__MrQN-",A="CategoriesList_item__nCeDw",L="CategoriesList_total__Wr3FH",I="CategoriesList_title__qGrj4",q="CategoriesList_image__h0G5D",Q="CategoriesList_imageActive__1mmPk CategoriesList_image__h0G5D",Y=function(e){var t=e.type,n=e.category,a=e.onCategoryChange,s=e.transactions,r=Object.entries(s),i=(0,k.$)().t,o=i("expenseReport",{returnObjects:!0}),c=i("incomeReport",{returnObjects:!0});return(0,x.jsxs)(x.Fragment,{children:[0===r.length&&(0,x.jsx)("p",{className:D,children:i("categories.noInfo")}),0!==r.length&&(0,x.jsx)("ul",{className:$,children:r.map((function(e,r){return(0,x.jsxs)("li",{className:A,children:[(0,x.jsx)("p",{className:L,children:e[1].total.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}),(0,x.jsx)("svg",{"aria-label":"expenses"===t?o[e[0]].title:[e[0]],className:e[0]===n?Q:q,width:"56",height:"56",onClick:function(t){return a(e[0],s)},children:(0,x.jsx)("use",{href:"expenses"===t?"".concat(O.Z,"#").concat(o[e[0]].id):"".concat(O.Z,"#icon-").concat(e[0])})}),(0,x.jsx)("p",{className:I,children:"expenses"===t?o[e[0]].title:c[e[0]]})]},r)}))})]})},z="ReportsCategories_block__He18t",E=function(e){var t=e.userExpenses,n=e.userIncome,a=e.category,s=e.onCategoryChange,r=e.type,i=e.setType,o=e.setCategory,c=(0,(0,k.$)().t)("pagination",{returnObjects:!0}),l=function(){if("expenses"===r)return i("income"),void o("");i("expenses"),o("")};return(0,x.jsxs)("div",{className:z,children:[(0,x.jsx)(g,{clickPrev:l,clickNext:l,descr:c[r]}),(0,x.jsx)(Y,{transactions:"expenses"===r?t.expensesData:n.incomesData,category:a,type:r,onCategoryChange:s})]})},J=n(56305),G=n(69683),K=n(24805),U="Diagram_diagram__cuZlO";J.kL.register(J.uw,J.f$,J.ZL,J.u);var W=function(e){var t=e.keysDiagram,n=e.valuesDiagram,a=e.category,s=(0,K.useMediaQuery)({query:"(max-width: 767px)"}),r=(0,K.useMediaQuery)({query:"(min-width: 768px)"}),i=(0,K.useMediaQuery)({query:"(max-width: 1280px)"}),o=(0,K.useMediaQuery)({query:"(min-width: 1280px)"}),c={labels:t,datasets:[{label:a,data:n,backgroundColor:"#FF751D",barThickness:38,borderRadius:10}]},l={labels:t,datasets:[{label:a,data:n,backgroundColor:"#FF751D",barThickness:15,borderRadius:10}]};return(0,x.jsxs)("div",{className:U,children:[!s&&(0,x.jsx)(G.$Q,{options:{indexAxis:"x",maintainAspectRatio:!1,responsive:!0,scales:{x:{stacked:!0,grid:{color:"transparent",borderColor:"#F5F6FB",tickColor:"transparent"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:12,letterSpacing:"0.02em",lineHeight:1.17}}},y:{grid:{color:"#F5F6FB",borderColor:"#F5F6FB"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:10,letterSpacing:"0.02em",lineHeight:1.17},count:9}}}},data:c,width:r&&i?604:o?758:"none",height:385}),s&&(0,x.jsx)(G.$Q,{options:{maintainAspectRatio:!1,indexAxis:"y",responsive:!0,scales:{x:{grid:{color:"transparent",borderColor:"transparent",tickColor:"transparent"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:8,letterSpacing:"0.02em",lineHeight:1.2}}},y:{grid:{color:"transparent",borderColor:"transparent",tickColor:"transparent"},ticks:{color:"#52555f",padding:5,font:{weight:400,size:10,letterSpacing:"0.02em",lineHeight:1.2},count:9}}}},data:l,width:280})]})},X=n(30536),V=n(4187),ee=n(59434),te=function(){var e=(0,ee.v9)(V.iP),t=(0,i.useState)(0),n=(0,a.Z)(t,2),s=n[0],o=n[1],d=(0,i.useState)("expenses"),u=(0,a.Z)(d,2),p=u[0],_=u[1],m=(0,i.useState)(""),h=(0,a.Z)(m,2),g=h[0],f=h[1],j=(0,i.useState)(null),b=(0,a.Z)(j,2),v=b[0],y=b[1],N=(0,i.useState)(null),C=(0,a.Z)(N,2),k=C[0],F=C[1],w=(0,i.useState)(null),B=(0,a.Z)(w,2),M=B[0],S=B[1],R=(0,i.useState)(null),P=(0,a.Z)(R,2),Z=P[0],O=P[1],$=(0,i.useState)(!1),D=(0,a.Z)($,2),A=D[0],L=D[1],I=(0,i.useState)(""),q=(0,a.Z)(I,2),Q=q[0],Y=q[1];(0,i.useEffect)((function(){var t,n=r()().add(s,"month").format("YYYY-MM");e&&(Y(""),L(!0),(t=n,c().get("/transaction/period-data?date=".concat(t)).then((function(e){return e.data}))).then((function(e){y(e.expenses),F(e.incomes)})).catch((function(e){Y(e.message),y(null),F(null)})).finally((function(){return L(!1)})))}),[s,e]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(T,{setMonth:o,month:s,setCategory:f}),v&&k&&""===Q&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(H,{userExpenses:v,userIncome:k}),(0,x.jsx)(E,{category:g,setCategory:f,userExpenses:v,userIncome:k,onCategoryChange:function(e,t){f(e);var n=Object.keys(t[e]);n.splice(0,1);var a=Object.values(t[e]);a.splice(0,1),S(n),O(a)},type:p,setType:_})]}),g&&M&&Z&&""===Q&&(0,x.jsx)(W,{keysDiagram:M,valuesDiagram:Z,category:"expenses"===p?l[g].title:g}),A&&(0,x.jsx)(X.Z,{}),Q&&(0,x.jsx)("p",{style:{textAlign:"center",fontSize:"14px",fontWeight:"600",marginTop:"40px"},children:Q})]})}},67473:function(e,t,n){n.d(t,{s:function(){return a}});var a=function(e){return e.balance.balance}},87261:function(e,t,n){n.d(t,{Jz:function(){return s},hg:function(){return a},yS:function(){return r}});var a=function(e){return e.transactions.loading},s=function(e){return e.transactions.expenses},r=function(e){return e.transactions.incomes}},23937:function(e,t,n){e.exports=n.p+"static/media/coins-drop.e4b7233ee3a35134f15a.mp3"}}]);
//# sourceMappingURL=981.44df447d.chunk.js.map