{"version":3,"file":"static/js/622.0e822d37.chunk.js","mappings":"+QACA,EAAuB,mBAAvB,EAAiD,mBAAjD,EAA2E,mBAA3E,EAAuG,qBAAvG,EAAmI,mBAAnI,EAAsK,6CAAtK,EAA6N,sBAA7N,EAAqQ,8BAArQ,EAA2S,oBAA3S,EAAsU,mBAAtU,EAAiW,oBAAjW,EAA4X,mBAA5X,EAAwZ,qBAAxZ,EAA4b,8CAA5b,EAA2f,6BAA3f,EAA4iB,gC,kECc/hBA,EAAO,WAElB,IAAMC,GAAQC,EAAAA,EAAAA,IAAYC,EAAAA,IAG1B,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KACMC,GADN,MACiBC,EAAAA,EAAAA,OACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAMC,EAAAA,EAAAA,KAAND,EAEAE,GAAaC,EAAAA,EAAAA,MAAbD,SACFE,GAAQZ,EAAAA,EAAAA,IAAYa,EAAAA,IAEpBC,GAASC,EAAAA,EAAAA,IAAU,CACvBC,cAAe,CACbC,SAAU,GACVC,MAAO,IAGTC,SAAU,SAAAC,GACRC,MAAMC,KAAKC,UAAUH,EAAQ,KAAM,GACpC,EAEDI,iBAAkBC,EAAAA,GAAW,CAC3BP,MAAOO,EAAAA,KACJP,MAAMV,EAAE,0BACRkB,SAASlB,EAAE,0BACdS,SAAUQ,EAAAA,KACPE,IAAI,EAAGnB,EAAE,2BACTkB,SAASlB,EAAE,+BAIlBoB,EAAAA,EAAAA,YAAU,WACR,GAAiB,MAAblB,EAAkB,CACpB,IAAMmB,EAAc1B,EAAa2B,IAAI,SAC/BC,EAAe5B,EAAa2B,IAAI,gBAChCE,EAAM7B,EAAa2B,IAAI,OACzBlB,IACFN,GAAS2B,EAAAA,EAAAA,GAAW,CAAEJ,YAAAA,EAAaE,aAAAA,EAAcC,IAAAA,KACjD1B,GAAS4B,EAAAA,EAAAA,QAEH9B,EAARQ,EAAiB,WAAuB,IACzC,CAEF,GAAE,IAEH,IAuCMuB,EAAQ,WACZrB,EAAOM,OAAOF,MAAQ,GACtBJ,EAAOM,OAAOH,SAAW,EAC1B,EAED,OACE,+BACE,kBAAMmB,UAAWC,EAAQlB,SAAUL,EAAOwB,aAA1C,WACE,cAAGF,UAAWC,EAAd,SAAgC7B,EAAE,+BAClC,eACE4B,UAAWC,EACXE,KAAK,kDACLC,OAAO,SACPC,IAAI,aAJN,WAME,gBAAKL,UAAWC,EAAQK,MAAO,GAAIC,OAAQ,GAA3C,UACE,gBAAKJ,KAAI,UAAKK,EAAAA,EAAL,qBAEX,iBAAMR,UAAWC,EAAjB,wBAEF,cAAGD,UAAWC,EAAd,SAAuB7B,EAAE,6BACzB,iBAAK4B,UAAWC,EAAhB,WACE,mBAAOD,UAAWC,EAAQQ,QAAQ,QAAlC,UACG/B,EAAOgC,QAAQ5B,OAASJ,EAAOiC,OAAO7B,QACrC,iBAAMkB,UAAWC,EAAjB,eAED7B,EAAE,0BAEL,kBACE4B,UAAWC,EACXW,KAAK,QACLC,KAAK,QACLC,GAAG,QACHC,YAAY,iBACZC,SAAUtC,EAAOuC,aACjBC,OAAQxC,EAAOyC,WACfC,MAAO1C,EAAOM,OAAOF,SAEvB,cAAGkB,UAAWC,EAAd,SACGvB,EAAOgC,QAAQ5B,OAASJ,EAAOiC,OAAO7B,OAASJ,EAAOiC,OAAO7B,YAGlE,iBAAKkB,UAAWC,EAAhB,WACE,mBAAOD,UAAWC,EAAQQ,QAAQ,WAAlC,UACG/B,EAAOgC,QAAQ7B,UAAYH,EAAOiC,OAAO9B,WACxC,iBAAMmB,UAAWC,EAAjB,eAED7B,EAAE,6BAEL,kBACE4B,UAAWC,EACXW,KAAK,WACLC,KAAK,WACLC,GAAG,WACHC,YAAY,WACZC,SAAUtC,EAAOuC,aACjBC,OAAQxC,EAAOyC,WACfC,MAAO1C,EAAOM,OAAOH,YAEvB,cAAGmB,UAAWC,EAAd,SACGvB,EAAOgC,QAAQ7B,UACdH,EAAOiC,OAAO9B,UACdH,EAAOiC,OAAO9B,eAGpB,iBAAKmB,UAAWC,EAAhB,WACE,mBACED,UAAWC,EACXW,KAAK,SACLS,QAzFgB,SAAAC,GACxBA,EAAEC,iBACE7C,EAAOiC,OAAO7B,OAASJ,EAAOiC,OAAO9B,SACvC2C,EAAAA,GAAAA,MAAYpD,EAAE,iCAAkC,CAC9CqD,UAAW,IACXC,MAAO,aAKXxD,GACEyD,EAAAA,EAAAA,IAAU,CACR7C,MAAOJ,EAAOM,OAAOF,MACrBD,SAAUH,EAAOM,OAAOH,YAI5BkB,IACD,EAoEO,SAKG3B,EAAE,yBAEL,mBACE4B,UAAWC,EACXW,KAAK,SACLS,QAnHmB,SAAAC,GAC3BA,EAAEC,iBACE7C,EAAOiC,OAAO7B,OAASJ,EAAOiC,OAAO9B,SACvC2C,EAAAA,GAAAA,MAAYpD,EAAE,iCAAkC,CAC9CqD,UAAW,IACXC,MAAO,aAIXxD,GACE0D,EAAAA,EAAAA,IAAa,CACX9C,MAAOJ,EAAOM,OAAOF,MACrBD,SAAUH,EAAOM,OAAOH,YAI5BkB,IACD,EA+FO,SAKG3B,EAAE,kCAGI,wCAAVT,GACyB,KAAxBe,EAAOM,OAAOF,OACa,KAA3BJ,EAAOM,OAAOH,WACbH,EAAOiC,OAAO7B,QACdJ,EAAOiC,OAAO9B,WACb,gBAAKmB,UAAWC,EAAhB,SACG7B,EAAE,mCAGE,wCAAVT,GACyB,KAAxBe,EAAOM,OAAOF,OACa,KAA3BJ,EAAOM,OAAOH,WACbH,EAAOiC,OAAO7B,QACdJ,EAAOiC,OAAO9B,WACb,gBAAKmB,UAAWC,EAAhB,SACG7B,EAAE,mCAGE,wCAAVT,GACyB,KAAxBe,EAAOM,OAAOF,OACa,KAA3BJ,EAAOM,OAAOH,WACbH,EAAOiC,OAAO7B,QACdJ,EAAOiC,OAAO9B,WACb,gBAAKmB,UAAWC,EAAhB,SACG7B,EAAE,uCAMhB,EC/MD,EAHiB,WACf,OAAO,SAACV,EAAD,GACR,C","sources":["webpack://react-homework-template/./src/components/Auth/Auth.module.css?93a7","components/Auth/Auth.jsx","pages/MainPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Auth_form__UlHVT\",\"icon\":\"Auth_icon__VxKIp\",\"link\":\"Auth_link__7l5cU\",\"google\":\"Auth_google__7I5KF\",\"item\":\"Auth_item__UETbT\",\"itemForGoogle\":\"Auth_itemForGoogle__ZQKfO Auth_item__UETbT\",\"wrapper\":\"Auth_wrapper__T2p3f\",\"wrapperPassword\":\"Auth_wrapperPassword__6EWPB\",\"input\":\"Auth_input__njf2M\",\"span\":\"Auth_span__HMBFs\",\"error\":\"Auth_error__uXNtK\",\"text\":\"Auth_text__qAE+h\",\"button\":\"Auth_button__oOib1\",\"buttonSubmit\":\"Auth_buttonSubmit__ii556 Auth_button__oOib1\",\"wrapperButtons\":\"Auth_wrapperButtons__05uaO\",\"notificationError\":\"Auth_notificationError__o9DrU\"};","import { useDispatch, useSelector } from 'react-redux';\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport { registerUser, loginUser, getCurUser } from 'redux/auth/authOperations';\nimport { getAuthError, isLogedIn } from 'redux/auth/AuthSelector';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup';\nimport s from './Auth.module.css';\n// import Loader from 'components/Loader/Loader';\nimport Sprite from '../../assets/images/svg/sprite.svg';\nimport { useEffect } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport { googleAuth } from '../../redux/auth/authSlise';\nimport { useTranslation } from 'react-i18next';\n\nexport const Auth = () => {\n  // const isLoading = useSelector(getAuthLoading);\n  const error = useSelector(getAuthError);\n\n  // eslint-disable-next-line\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  const { pathname } = useLocation();\n  const token = useSelector(isLogedIn);\n\n  const formik = useFormik({\n    initialValues: {\n      password: '',\n      email: '',\n    },\n\n    onSubmit: values => {\n      alert(JSON.stringify(values, null, 2));\n    },\n\n    validationSchema: Yup.object({\n      email: Yup.string()\n        .email(t('registration.emailErr'))\n        .required(t('registration.required')),\n      password: Yup.string()\n        .min(7, t('registration.lengthErr'))\n        .required(t('registration.required')),\n    }),\n  });\n\n  useEffect(() => {\n    if (pathname === '/') {\n      const accessToken = searchParams.get('token');\n      const refreshToken = searchParams.get('refreshToken');\n      const sid = searchParams.get('sid');\n      if (token) {\n        dispatch(googleAuth({ accessToken, refreshToken, sid }));\n        dispatch(getCurUser());\n      }\n      token ? navigate('expenses') : navigate('/');\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const handleSubmitRegister = e => {\n    e.preventDefault();\n    if (formik.errors.email || formik.errors.password) {\n      toast.error(t('registration.registrationInfo'), {\n        autoClose: 2000,\n        theme: 'colored',\n      });\n      return;\n    }\n    dispatch(\n      registerUser({\n        email: formik.values.email,\n        password: formik.values.password,\n      })\n    );\n\n    reset();\n  };\n\n  const handleSubmitLogin = e => {\n    e.preventDefault();\n    if (formik.errors.email || formik.errors.password) {\n      toast.error(t('registration.registrationInfo'), {\n        autoClose: 2000,\n        theme: 'colored',\n      });\n      return;\n    }\n\n    dispatch(\n      loginUser({\n        email: formik.values.email,\n        password: formik.values.password,\n      })\n    );\n\n    reset();\n  };\n\n  const reset = () => {\n    formik.values.email = '';\n    formik.values.password = '';\n  };\n\n  return (\n    <>\n      <form className={s.form} onSubmit={formik.handleSubmit}>\n        <p className={s.itemForGoogle}>{t('registration.googleTitle')}</p>\n        <a\n          className={s.link}\n          href=\"https://kapusta-backend.goit.global/auth/google\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <svg className={s.icon} width={18} height={18}>\n            <use href={`${Sprite}#icon-google`} />\n          </svg>\n          <span className={s.google}>Google</span>\n        </a>\n        <p className={s.item}>{t('registration.mainTitle')}</p>\n        <div className={s.wrapper}>\n          <label className={s.text} htmlFor=\"email\">\n            {formik.touched.email && formik.errors.email && (\n              <span className={s.span}>*</span>\n            )}\n            {t('registration.email')}\n          </label>\n          <input\n            className={s.input}\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"your@email.com\"\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            value={formik.values.email}\n          />\n          <p className={s.error}>\n            {formik.touched.email && formik.errors.email && formik.errors.email}\n          </p>\n        </div>\n        <div className={s.wrapperPassword}>\n          <label className={s.text} htmlFor=\"password\">\n            {formik.touched.password && formik.errors.password && (\n              <span className={s.span}>*</span>\n            )}\n            {t('registration.password')}\n          </label>\n          <input\n            className={s.input}\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"password\"\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            value={formik.values.password}\n          />\n          <p className={s.error}>\n            {formik.touched.password &&\n              formik.errors.password &&\n              formik.errors.password}\n          </p>\n        </div>\n        <div className={s.wrapperButtons}>\n          <button\n            className={s.buttonSubmit}\n            type=\"submit\"\n            onClick={handleSubmitLogin}\n          >\n            {t('registration.enter')}\n          </button>\n          <button\n            className={s.button}\n            type=\"submit\"\n            onClick={handleSubmitRegister}\n          >\n            {t('registration.registration')}\n          </button>\n        </div>\n        {error === 'Request failed with status code 400' &&\n          formik.values.email === '' &&\n          formik.values.password === '' &&\n          !formik.errors.email &&\n          !formik.errors.password && (\n            <div className={s.notificationError}>\n              {t('registration.registrationErr1')}\n            </div>\n          )}\n        {error === 'Request failed with status code 409' &&\n          formik.values.email === '' &&\n          formik.values.password === '' &&\n          !formik.errors.email &&\n          !formik.errors.password && (\n            <div className={s.notificationError}>\n              {t('registration.registrationErr2')}\n            </div>\n          )}\n        {error === 'Request failed with status code 403' &&\n          formik.values.email === '' &&\n          formik.values.password === '' &&\n          !formik.errors.email &&\n          !formik.errors.password && (\n            <div className={s.notificationError}>\n              {t('registration.registrationErr3')}\n            </div>\n          )}\n      </form>\n    </>\n  );\n};\n","import { Auth } from 'components/Auth/Auth';\n\nconst MainPage = () => {\n  return <Auth />;\n};\nexport default MainPage;\n"],"names":["Auth","error","useSelector","getAuthError","useSearchParams","searchParams","navigate","useNavigate","dispatch","useDispatch","t","useTranslation","pathname","useLocation","token","isLogedIn","formik","useFormik","initialValues","password","email","onSubmit","values","alert","JSON","stringify","validationSchema","Yup","required","min","useEffect","accessToken","get","refreshToken","sid","googleAuth","getCurUser","reset","className","s","handleSubmit","href","target","rel","width","height","Sprite","htmlFor","touched","errors","type","name","id","placeholder","onChange","handleChange","onBlur","handleBlur","value","onClick","e","preventDefault","toast","autoClose","theme","loginUser","registerUser"],"sourceRoot":""}